{
  "version": "1.0",
  "pocketbase": {
    "version": "0.30.4",
    "download_url": "https://github.com/pocketbase/pocketbase/releases/download/v0.30.4/pocketbase_0.30.4_darwin_arm64.zip",
    "binary_path": ".tmp/pocketbase/bin/pocketbase",
    "interface": "127.0.0.1",
    "port_range": {
      "min": 8091,
      "max": 8199
    },
    "admin_user_env": "PB_ADMIN_USER",
    "admin_password_env": "PB_ADMIN_PASSWORD",
    "working_dir_pattern": ".tmp/pb_{timestamp}",
    "current_link": ".tmp/pb_current",
    "hooks_dir": "pb_hooks",
    "dev_mode": true,
    "hooks_watch": true
  },
  "collections": {
    "recipes_v1": {
      "type": "base",
      "schema": [
        {"name": "title", "type": "text", "required": true, "options": {"min": 1, "max": 200}},
        {"name": "description", "type": "text", "required": false, "options": {"max": 500}},
        {"name": "total_time", "type": "number", "required": true, "options": {"min": 1}},
        {"name": "status", "type": "select", "required": true, "options": {"values": ["Draft", "Complete"]}},
        {"name": "is_deleted", "type": "bool", "required": true, "options": {}},
        {"name": "recipe_json", "type": "json", "required": false, "options": {}}
      ],
      "indexes": [
        "CREATE INDEX idx_title ON recipes_v1 (title)",
        "CREATE INDEX idx_is_deleted ON recipes_v1 (is_deleted)"
      ],
      "list_rule": "is_deleted = false",
      "view_rule": "",
      "create_rule": "@request.auth.id != ''",
      "update_rule": "@request.auth.id != ''",
      "delete_rule": "@request.auth.id != ''"
    },
    "edits": {
      "type": "base",
      "schema": [
        {"name": "event_id", "type": "text", "required": true},
        {"name": "entity_id", "type": "text", "required": true},
        {"name": "prior_version", "type": "number", "required": true},
        {"name": "next_version", "type": "number", "required": true},
        {"name": "event_type", "type": "select", "required": true, "options": {"values": ["CREATE", "UPDATE", "DELETE"]}},
        {"name": "new_state_json", "type": "json", "required": true}
      ],
      "indexes": [
        "CREATE INDEX idx_edits_entity_id ON edits (entity_id)",
        "CREATE INDEX idx_edits_entity_version ON edits (entity_id, next_version)",
        "CREATE INDEX idx_edits_event_id ON edits (event_id)"
      ],
      "list_rule": "@request.auth.id != ''",
      "view_rule": "@request.auth.id != ''",
      "create_rule": "@request.auth.id != ''",
      "update_rule": "",
      "delete_rule": ""
    },
    "snapshots": {
      "type": "base",
      "schema": [
        {"name": "version", "type": "number", "required": true},
        {"name": "type_version", "type": "text", "required": true},
        {"name": "state_json", "type": "json", "required": true},
        {"name": "deleted", "type": "bool", "required": true, "options": {}},
        {"name": "latest_handle_version", "type": "number", "required": false}
      ],
      "indexes": [
        "CREATE INDEX idx_snapshots_version ON snapshots (version)",
        "CREATE INDEX idx_snapshots_deleted ON snapshots (deleted)"
      ],
      "list_rule": "deleted = false && @request.auth.id != ''",
      "view_rule": "@request.auth.id != ''",
      "create_rule": "@request.auth.id != ''",
      "update_rule": "@request.auth.id != ''",
      "delete_rule": ""
    }
  }
}
