{
  "definitions": {
    "Ingredient": {
      "properties": {
        "name": { "type": "string" },
        "ucum-unit": {
          "enum": [
            "cup_us", "cup_m", "cup_imp",
            "tbsp_us", "tbsp_m", "tbsp_imp",
            "tsp_us", "tsp_m", "tsp_imp"
          ]
        },
        "ucum-amount": { "type": "float64" },
        "metric-unit": { "enum": ["ml", "g"] },
        "metric-amount": { "type": "float64" },
        "notes": { "type": "string" }
      },
      "optionalProperties": {
        "allergen-code": {
          "enum": [
            "GLUTEN", "CRUSTACEAN", "EGG", "FISH", "PEANUT", "SOY", "MILK", "NUT",
            "CELERY", "MUSTARD", "SESAME", "SULPHITE", "LUPIN", "MOLLUSC",
            "SHELLFISH", "TREENUT", "WHEAT"
          ]
        }
      }
    }
  },
  "properties": {
    "title": { "type": "string" },
    "image_url": { "type": "string" },
    "description": { "type": "string" },
    "notes": { "type": "string" },
    "pre_reqs": { "elements": { "type": "string" } },
    "total_time": { "type": "float64" },
    "ingredients": { "elements": { "ref": "Ingredient" } },
    "steps": { "elements": { "type": "string" } }
  },
  "optionalProperties": {
    "meal_type": {
      "enum": ["breakfast", "brunch", "lunch", "dinner", "snack", "dessert"]
    }
  }
}
