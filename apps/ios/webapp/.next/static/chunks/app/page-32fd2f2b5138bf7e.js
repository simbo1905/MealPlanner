(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3530:(e,t,i)=>{Promise.resolve().then(i.bind(i,9547))},9547:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>s});var n=i(5155),r=i(2115);function o(e,t){var i,n;let r=t?"".concat(e," ").concat(JSON.stringify(t)):e;console.log(r),(null==(n=window.webkit)||null==(i=n.messageHandlers)?void 0:i.consoleLog)&&window.webkit.messageHandlers.consoleLog.postMessage(r)}function s(){let[e,t]=(0,r.useState)([]),[i,s]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var e,i;o("[React] Component mounted"),window.onNativeRecipesUpdate=e=>{o("[React] Received recipes from native:",e),o("[React] Number of recipes received: "+e.length),t(e)},o("[React] Checking for webkit bridge..."),(null==(i=window.webkit)||null==(e=i.messageHandlers)?void 0:e.recipeHandler)?(o("[React] Bridge found, requesting recipe list"),window.webkit.messageHandlers.recipeHandler.postMessage({action:"list"})):o("[React] ERROR: webkit bridge not available!")},[]),(0,r.useEffect)(()=>{i||(s(!0),o("[React] Add Recipe button mounted"))},[i]),(0,r.useEffect)(()=>{o("[React] Recipes state updated, count: "+e.length)},[e]),(0,n.jsxs)("main",{style:{padding:"20px",maxWidth:"600px",margin:"0 auto"},children:[(0,n.jsx)("h1",{style:{fontSize:"24px",marginBottom:"20px"},children:"Hello WebView"}),(0,n.jsx)("button",{onClick:()=>{o("[React] ===== ADD BUTTON CLICKED =====");try{var e,t;let i=prompt("Enter new recipe name")||"Untitled",n=prompt("Enter description")||"";o("[React] User input:",{title:i,description:n}),(null==(t=window.webkit)||null==(e=t.messageHandlers)?void 0:e.recipeHandler)?(o("[React] Sending add recipe message"),window.webkit.messageHandlers.recipeHandler.postMessage({action:"add",recipe:{title:i,description:n,image_url:"",notes:"",total_time:30}})):o("[React] ERROR: Cannot add recipe, bridge not available")}catch(e){o("[React] ERROR in addRecipe: "+e)}},style:{backgroundColor:"#007AFF",color:"white",border:"none",padding:"10px 20px",borderRadius:"8px",fontSize:"16px",marginBottom:"20px",cursor:"pointer"},children:"➕ Add Recipe"}),(0,n.jsx)("ul",{style:{listStyle:"none",padding:0},children:e.map(e=>(0,n.jsx)("li",{style:{backgroundColor:"#fff",padding:"15px",marginBottom:"12px",borderRadius:"8px",border:"1px solid #ddd"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)("strong",{style:{fontSize:"18px",display:"block",marginBottom:"8px"},children:e.title}),(0,n.jsx)("p",{style:{fontSize:"14px",color:"#666",margin:"0 0 8px 0"},children:e.description}),(0,n.jsxs)("div",{style:{fontSize:"13px",color:"#888"},children:["⏱️ ",e.total_time," minutes"]})]}),(0,n.jsx)("button",{onClick:()=>{var t,i,n;return t=e.id,void((null==(n=window.webkit)||null==(i=n.messageHandlers)?void 0:i.recipeHandler)&&window.webkit.messageHandlers.recipeHandler.postMessage({action:"delete",recipeId:t}))},style:{backgroundColor:"#ff3b30",color:"white",border:"none",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",marginLeft:"12px"},children:"\uD83D\uDDD1️"})]})},e.id))}),0===e.length&&(0,n.jsx)("p",{style:{color:"#888",textAlign:"center"},children:"No recipes yet"})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=3530)),_N_E=e.O()}]);