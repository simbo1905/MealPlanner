var xn=Object.defineProperty;var pr=e=>{throw TypeError(e)};var On=(e,t,r)=>t in e?xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ze=(e,t,r)=>On(e,typeof t!="symbol"?t+"":t,r),yr=(e,t,r)=>t.has(e)||pr("Cannot "+r);var oe=(e,t,r)=>(yr(e,t,"read from private field"),r?r.call(e):t.get(e)),Ce=(e,t,r)=>t.has(e)?pr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ue=(e,t,r,n)=>(yr(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);import"../chunks/CWj6FrbW.js";import{h as de,d as Vt,b as An,y as v,F as In,r as Sn,H as Cn,e as _r,g as vt,i as Wt,o as Ne,a7 as Ur,aA as Rn,k as $t,m as Mn,l as Ge,ax as Wr,ao as Nn,j as Gr,aN as Ln,a4 as wr,a6 as Dr,n as Br,p as kn,aR as At,aS as Gt,af as Hr,aT as It,aU as Pn,al as Yr,aV as Fn,aw as zn,aW as Un,B as Zr,as as Je,aX as jr,v as ir,aY as Wn,_ as Pe,aZ as Gn,aB as Bn,au as Hn,az as br,a_ as Yn,q as Zn,u as Vr,t as $r,W as jn,a$ as Vn,b0 as $n,b1 as qn,b2 as Kn,b3 as Xn,b4 as Jn,b5 as Qn,b6 as qe,b7 as ea,aM as ta,b8 as ra,aO as _e,A as ae,z as qr,Y as St,Z as fe,s as We,a as z,$ as Ct,a0 as R,a2 as j,aP as Le,a1 as I,c as ve,f as ge,b9 as Kr,ag as yt}from"../chunks/BTTHlGxR.js";import{p as ke,i as se,b as Xr}from"../chunks/CW6n_GIl.js";import{d as or,o as na,a as aa,s as De,e as Er}from"../chunks/0wlRkrDj.js";let gt=null;function Jr(e,t){return t}function ia(e,t,r){for(var n=e.items,i=[],a=t.length,o=0;o<a;o++)Fn(t[o].e,i,!0);var d=a>0&&i.length===0&&r!==null;if(d){var c=r.parentNode;zn(c),c.append(r),n.clear(),we(e,t[0].prev,t[a-1].next)}Un(i,()=>{for(var g=0;g<a;g++){var l=t[g];d||(n.delete(l.k),we(e,l.prev,l.next)),Hr(l.e,!d)}})}function _t(e,t,r,n,i,a=null){var o=e,d={flags:t,items:new Map,first:null},c=(t&jr)!==0;if(c){var g=e;o=de?vt(Je(g)):g.appendChild(Gr())}de&&Vt();var l=null,m=!1,s=new Map,h=In(()=>{var _=r();return Nn(_)?_:_==null?[]:Wr(_)}),u,p;function f(){oa(p,u,d,s,o,i,t,n,r),a!==null&&(u.length===0?l?Br(l):l=$t(()=>a(o)):l!==null&&kn(l,()=>{l=null}))}An(()=>{p??(p=Zr),u=v(h);var _=u.length;if(m&&_===0)return;m=_===0;let y=!1;if(de){var T=Sn(o)===Cn;T!==(_===0)&&(o=_r(),vt(o),Wt(!1),y=!0)}if(de){for(var S=null,x,w=0;w<_;w++){if(Ne.nodeType===Ur&&Ne.data===Rn){o=Ne,y=!0,Wt(!1);break}var D=u[w],A=n(D,w);x=qt(Ne,d,S,null,D,A,w,i,t,r),d.items.set(A,x),S=x}_>0&&vt(_r())}if(de)_===0&&a&&(l=$t(()=>a(o)));else if(Mn()){var F=new Set,E=Ge;for(w=0;w<_;w+=1){D=u[w],A=n(D,w);var C=d.items.get(A)??s.get(A);C?t&(It|At)&&Qr(C,D,w,t):(x=qt(null,d,null,null,D,A,w,i,t,r,!0),s.set(A,x)),F.add(A)}for(const[N,Y]of d.items)F.has(N)||E.skipped_effects.add(Y.e);E.add_callback(f)}else f();y&&Wt(!0),v(h)}),de&&(o=Ne)}function oa(e,t,r,n,i,a,o,d,c){var U,W,P,B;var g=(o&Wn)!==0,l=(o&(It|At))!==0,m=t.length,s=r.items,h=r.first,u=h,p,f=null,_,y=[],T=[],S,x,w,D;if(g)for(D=0;D<m;D+=1)S=t[D],x=d(S,D),w=s.get(x),w!==void 0&&((U=w.a)==null||U.measure(),(_??(_=new Set)).add(w));for(D=0;D<m;D+=1){if(S=t[D],x=d(S,D),w=s.get(x),w===void 0){var A=n.get(x);if(A!==void 0){n.delete(x),s.set(x,A);var F=f?f.next:u;we(r,f,A),we(r,A,F),Bt(A,F,i),f=A}else{var E=u?u.e.nodes_start:i;f=qt(E,r,f,f===null?r.first:f.next,S,x,D,a,o,c)}s.set(x,f),y=[],T=[],u=f.next;continue}if(l&&Qr(w,S,D,o),w.e.f&Gt&&(Br(w.e),g&&((W=w.a)==null||W.unfix(),(_??(_=new Set)).delete(w))),w!==u){if(p!==void 0&&p.has(w)){if(y.length<T.length){var C=T[0],N;f=C.prev;var Y=y[0],q=y[y.length-1];for(N=0;N<y.length;N+=1)Bt(y[N],C,i);for(N=0;N<T.length;N+=1)p.delete(T[N]);we(r,Y.prev,q.next),we(r,f,Y),we(r,q,C),u=C,f=q,D-=1,y=[],T=[]}else p.delete(w),Bt(w,u,i),we(r,w.prev,w.next),we(r,w,f===null?r.first:f.next),we(r,f,w),f=w;continue}for(y=[],T=[];u!==null&&u.k!==x;)u.e.f&Gt||(p??(p=new Set)).add(u),T.push(u),u=u.next;if(u===null)continue;w=u}y.push(w),f=w,u=w.next}if(u!==null||p!==void 0){for(var G=p===void 0?[]:Wr(p);u!==null;)u.e.f&Gt||G.push(u),u=u.next;var Z=G.length;if(Z>0){var L=o&jr&&m===0?i:null;if(g){for(D=0;D<Z;D+=1)(P=G[D].a)==null||P.measure();for(D=0;D<Z;D+=1)(B=G[D].a)==null||B.fix()}ia(r,G,L)}}g&&ir(()=>{var O;if(_!==void 0)for(w of _)(O=w.a)==null||O.apply()}),e.first=r.first&&r.first.e,e.last=f&&f.e;for(var k of n.values())Hr(k.e);n.clear()}function Qr(e,t,r,n){n&It&&Dr(e.v,t),n&At?Dr(e.i,r):e.i=r}function qt(e,t,r,n,i,a,o,d,c,g,l){var m=gt,s=(c&It)!==0,h=(c&Pn)===0,u=s?h?Ln(i,!1,!1):wr(i):i,p=c&At?wr(o):o,f={i:p,v:u,k:a,a:null,e:null,prev:r,next:n};gt=f;try{if(e===null){var _=document.createDocumentFragment();_.append(e=Gr())}return f.e=$t(()=>d(e,u,p,g),de),f.e.prev=r&&r.e,f.e.next=n&&n.e,r===null?l||(t.first=f):(r.next=f,r.e.next=f.e),n!==null&&(n.prev=f,n.e.prev=f.e),f}finally{gt=m}}function Bt(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,i=t?t.e.nodes_start:r,a=e.e.nodes_start;a!==null&&a!==n;){var o=Yr(a);i.before(a),a=o}}function we(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function sa(e,t,r=!1,n=!1,i=!1){var a=e,o="";Pe(()=>{var d=Zr;if(o===(o=t()??"")){de&&Vt();return}if(d.nodes_start!==null&&(Gn(d.nodes_start,d.nodes_end),d.nodes_start=d.nodes_end=null),o!==""){if(de){Ne.data;for(var c=Vt(),g=c;c!==null&&(c.nodeType!==Ur||c.data!=="");)g=c,c=Yr(c);if(c===null)throw Bn(),Hn;br(Ne,g),a=vt(c);return}var l=o+"";r?l=`<svg>${l}</svg>`:n&&(l=`<math>${l}</math>`);var m=Yn(l);if((r||n)&&(m=Je(m)),br(Je(m),m.lastChild),r||n)for(;Je(m);)a.before(Je(m));else a.before(m)}})}function la(e,t,r){Zn(()=>{var n=Vr(()=>t(e,r==null?void 0:r())||{});if(r&&(n!=null&&n.update)){var i=!1,a={};$r(()=>{var o=r();jn(o),i&&Vn(a,o)&&(a=o,n.update(o))}),i=!0}if(n!=null&&n.destroy)return()=>n.destroy()})}function da(e,t,r){var n=e==null?"":""+e;return t&&(n=n?n+" "+t:t),n===""?null:n}function ht(e,t,r,n,i,a){var o=e.__className;if(de||o!==r||o===void 0){var d=da(r,n);(!de||d!==e.getAttribute("class"))&&(d==null?e.removeAttribute("class"):t?e.className=d:e.setAttribute("class",d)),e.__className=r}return a}const ua=Symbol("is custom element"),ca=Symbol("is html");function fa(e){if(de){var t=!1,r=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var n=e.value;Kt(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var i=e.checked;Kt(e,"checked",null),e.checked=i}}};e.__on_r=r,ir(r),Kn()}}function Kt(e,t,r,n){var i=va(e);de&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=r)&&(t==="loading"&&(e[Xn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ga(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function va(e){return e.__attributes??(e.__attributes={[ua]:e.nodeName.includes("-"),[ca]:e.namespaceURI===$n})}var Tr=new Map;function ga(e){var t=e.getAttribute("is")||e.nodeName,r=Tr.get(t);if(r)return r;Tr.set(t,r=[]);for(var n,i=e,a=Element.prototype;a!==i;){n=Jn(i);for(var o in n)n[o].set&&r.push(o);i=qn(i)}return r}const ha=()=>performance.now(),xe={tick:e=>requestAnimationFrame(e),now:()=>ha(),tasks:new Set};function en(){const e=xe.now();xe.tasks.forEach(t=>{t.c(e)||(xe.tasks.delete(t),t.f())}),xe.tasks.size!==0&&xe.tick(en)}function ma(e){let t;return xe.tasks.size===0&&xe.tick(en),{promise:new Promise(r=>{xe.tasks.add(t={c:e,f:r})}),abort(){xe.tasks.delete(t)}}}function pa(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function xr(e){const t={},r=e.split(";");for(const n of r){const[i,a]=n.split(":");if(!i||a===void 0)break;const o=pa(i.trim());t[o]=a.trim()}return t}const ya=e=>e;function _a(e,t,r){var n=gt,i,a,o,d=null;n.a??(n.a={element:e,measure(){i=this.element.getBoundingClientRect()},apply(){if(o==null||o.abort(),a=this.element.getBoundingClientRect(),i.left!==a.left||i.right!==a.right||i.top!==a.top||i.bottom!==a.bottom){const c=t()(this.element,{from:i,to:a},r==null?void 0:r());o=tn(this.element,c,void 0,1,()=>{o==null||o.abort(),o=void 0})}},fix(){if(!e.getAnimations().length){var{position:c,width:g,height:l}=getComputedStyle(e);if(c!=="absolute"&&c!=="fixed"){var m=e.style;d={position:m.position,width:m.width,height:m.height,transform:m.transform},m.position="absolute",m.width=g,m.height=l;var s=e.getBoundingClientRect();if(i.left!==s.left||i.top!==s.top){var h=`translate(${i.left-s.left}px, ${i.top-s.top}px)`;m.transform=m.transform?`${m.transform} ${h}`:h}}}},unfix(){if(d){var c=e.style;c.position=d.position,c.width=d.width,c.height=d.height,c.transform=d.transform}}}),n.a.element=e}function tn(e,t,r,n,i){if(Qn(t)){var a,o=!1;return ir(()=>{if(!o){var p=t({direction:"in"});a=tn(e,p,r,n,i)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(!(t!=null&&t.duration))return i(),{abort:qe,deactivate:qe,reset:qe,t:()=>n};const{delay:d=0,css:c,tick:g,easing:l=ya}=t;var m=[];if(g&&g(0,1),c){var s=xr(c(0,1));m.push(s,s)}var h=()=>1-n,u=e.animate(m,{duration:d,fill:"forwards"});return u.onfinish=()=>{u.cancel();var p=1-n,f=n-p,_=t.duration*Math.abs(f),y=[];if(_>0){var T=!1;if(c)for(var S=Math.ceil(_/16.666666666666668),x=0;x<=S;x+=1){var w=p+f*l(x/S),D=xr(c(w,1-w));y.push(D),T||(T=D.overflow==="hidden")}T&&(e.style.overflow="hidden"),h=()=>{var A=u.currentTime;return p+f*l(A/_)},g&&ma(()=>{if(u.playState!=="running")return!1;var A=h();return g(A,1-A),!0})}u=e.animate(y,{duration:_,fill:"forwards"}),u.onfinish=()=>{h=()=>n,g==null||g(n,1-n),i()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=qe)},deactivate:()=>{i=qe},reset:()=>{},t:()=>h()}}function wa(e,t,r=t){var n=new WeakSet;ea(e,"input",async i=>{var a=i?e.defaultValue:e.value;if(a=Ht(e)?Yt(a):a,r(a),Ge!==null&&n.add(Ge),await ta(),a!==(a=t())){var o=e.selectionStart,d=e.selectionEnd;e.value=a??"",d!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(d,e.value.length))}}),(de&&e.defaultValue!==e.value||Vr(t)==null&&e.value)&&(r(Ht(e)?Yt(e.value):e.value),Ge!==null&&n.add(Ge)),$r(()=>{var i=t();if(e===document.activeElement){var a=ra??Ge;if(n.has(a))return}Ht(e)&&i===Yt(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function Ht(e){var t=e.type;return t==="number"||t==="range"}function Yt(e){return e===""?null:+e}const K={READY:"READY",LOADING:"LOADING",COMPLETE:"COMPLETE",ERROR:"ERROR"};var at,it,ot;class Da{constructor(){Ce(this,at,_e(!0));Ce(this,it,_e(qr(K.READY)));Ce(this,ot,_e(!1));ze(this,"loaded",()=>{this.isFirstLoad&&(this.isFirstLoad=!1),this.status=K.READY});ze(this,"complete",()=>{this.isFirstLoad&&(this.isFirstLoad=!1),this.status=K.COMPLETE});ze(this,"reset",()=>{this.isFirstLoad=!0,this.status=K.READY});ze(this,"error",()=>{this.status=K.ERROR})}get isFirstLoad(){return v(oe(this,at))}set isFirstLoad(t){ae(oe(this,at),t,!0)}get status(){return v(oe(this,it))}set status(t){ae(oe(this,it),t,!0)}get mounted(){return v(oe(this,ot))}set mounted(t){ae(oe(this,ot),t,!0)}}at=new WeakMap,it=new WeakMap,ot=new WeakMap;var ba=fe('<div class="infinite-loading svelte-10v88vw">Loading...</div>'),Ea=fe('<div class="infinite-no-results svelte-10v88vw">No results</div>'),Ta=fe('<div class="infinite-no-data svelte-10v88vw">No more data</div>'),xa=fe('<div class="infinite-cooling-off svelte-10v88vw">Potential loop detected, please wait and try again..</div>'),Oa=fe('<div class="infinite-error svelte-10v88vw"><div class="infinite-error__label svelte-10v88vw">Oops, something went wrong</div> <button class="infinite-error__btn svelte-10v88vw">Retry</button></div>'),Aa=fe('<div class="infinite-loader-wrapper svelte-10v88vw"><!> <div class="infinite-intersection-target svelte-10v88vw"><!> <!> <!> <!> <!></div></div>');function Ia(e,t){var G,Z,L;St(t,!0);const r=ke(t,"loopTimeout",3,3e3),n=ke(t,"loopDetectionTimeout",3,2e3),i=ke(t,"loopMaxCalls",3,5),a=ke(t,"intersectionOptions",19,()=>({})),o=ke(t,"loaderState",7),d=`Attempted to execute load function ${i()} or more times within a short period. Please wait before trying again..`;class c{constructor(){ze(this,"coolingOff",!1);Ce(this,G,null);Ce(this,Z,null);Ce(this,L,0)}track(){Ue(this,L,oe(this,L)+1),clearTimeout(oe(this,Z)),Ue(this,Z,setTimeout(()=>{Ue(this,L,0)},n())),oe(this,L)>=i()&&(console.error(d),this.coolingOff=!0,Ue(this,G,setTimeout(()=>{this.coolingOff=!1,Ue(this,L,0)},r())))}destroy(){oe(this,Z)&&clearTimeout(oe(this,Z)),oe(this,G)&&clearTimeout(oe(this,G))}}G=new WeakMap,Z=new WeakMap,L=new WeakMap;const g=new c;let l=_e(void 0),m=_e(void 0),s=Le(()=>o().status===K.LOADING),h=Le(()=>o().status===K.ERROR),u=Le(()=>o().status===K.COMPLETE&&o().isFirstLoad),p=Le(()=>o().status===K.COMPLETE&&!o().isFirstLoad),f=Le(()=>o().status!==K.COMPLETE&&g.coolingOff);async function _(){o().status===K.COMPLETE||o().status!==K.READY&&o().status!==K.ERROR||(o().status=K.LOADING,g.coolingOff||(await t.triggerLoad(),g.track()),o().status!==K.ERROR&&o().status!==K.COMPLETE&&o().status===K.LOADING&&(o().isFirstLoad=!1,o().status=K.READY))}na(()=>{if(v(m)||!v(l))return;const k={rootMargin:"0px 0px 200px 0px",...a()};ae(m,new IntersectionObserver(async U=>{var W;(W=U[0])!=null&&W.isIntersecting&&o().mounted&&await _()},k),!0),v(m).observe(v(l)),o().mounted=!0}),aa(()=>{o().mounted&&(v(m)&&v(m).disconnect(),g&&g.destroy())});var y=Aa(),T=R(y);We(T,()=>t.children);var S=j(T,2),x=R(S);{var w=k=>{var U=ve(),W=ge(U);{var P=O=>{var b=ve(),M=ge(b);We(M,()=>t.loading),z(O,b)},B=O=>{var b=ba();z(O,b)};se(W,O=>{t.loading?O(P):O(B,!1)})}z(k,U)};se(x,k=>{v(s)&&k(w)})}var D=j(x,2);{var A=k=>{var U=ve(),W=ge(U);{var P=O=>{var b=ve(),M=ge(b);We(M,()=>t.noResults),z(O,b)},B=O=>{var b=Ea();z(O,b)};se(W,O=>{t.noResults?O(P):O(B,!1)})}z(k,U)};se(D,k=>{v(u)&&k(A)})}var F=j(D,2);{var E=k=>{var U=ve(),W=ge(U);{var P=O=>{var b=ve(),M=ge(b);We(M,()=>t.noData),z(O,b)},B=O=>{var b=Ta();z(O,b)};se(W,O=>{t.noData?O(P):O(B,!1)})}z(k,U)};se(F,k=>{v(p)&&k(E)})}var C=j(F,2);{var N=k=>{var U=ve(),W=ge(U);{var P=O=>{var b=ve(),M=ge(b);We(M,()=>t.coolingOff),z(O,b)},B=O=>{var b=xa();z(O,b)};se(W,O=>{t.coolingOff?O(P):O(B,!1)})}z(k,U)};se(C,k=>{v(f)&&k(N)})}var Y=j(C,2);{var q=k=>{var U=ve(),W=ge(U);{var P=O=>{var b=ve(),M=ge(b);We(M,()=>t.error,()=>_),z(O,b)},B=O=>{var b=Oa(),M=j(R(b),2);M.__click=_,I(b),Pe(()=>M.disabled=o().status===K.COMPLETE),z(O,b)};se(W,O=>{t.error?O(P):O(B,!1)})}z(k,U)};se(Y,k=>{v(h)&&k(q)})}I(S),Xr(S,k=>ae(l,k),()=>v(l)),I(y),z(e,y),Ct()}or(["click"]);function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Or(Object(r),!0).forEach(function(n){Ze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Be(e){"@babel/helpers - typeof";return Be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Be(e)}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sa(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ca(e,t){if(e==null)return{};var r=Sa(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ra(e,t){return Na(e)||ka(e,t)||sr(e,t)||Fa()}function me(e){return Ma(e)||La(e)||sr(e)||Pa()}function Ma(e){if(Array.isArray(e))return Xt(e)}function Na(e){if(Array.isArray(e))return e}function La(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ka(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,a=!1,o,d;try{for(r=r.call(e);!(i=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));i=!0);}catch(c){a=!0,d=c}finally{try{!i&&r.return!=null&&r.return()}finally{if(a)throw d}}return n}}function sr(e,t){if(e){if(typeof e=="string")return Xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xt(e,t)}}function Xt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pa(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function st(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=sr(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,d;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return a=c.done,c},e:function(c){o=!0,d=c},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw d}}}}var za="finalize",Ua="consider";function je(e,t,r){e.dispatchEvent(new CustomEvent(za,{detail:{items:t,info:r}}))}function Se(e,t,r){e.dispatchEvent(new CustomEvent(Ua,{detail:{items:t,info:r}}))}var Rt="draggedEntered",lt="draggedLeft",Mt="draggedOverIndex",lr="draggedLeftDocument",Dt={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Wa(e,t,r){e.dispatchEvent(new CustomEvent(Rt,{detail:{indexObj:t,draggedEl:r}}))}function Ga(e,t,r){e.dispatchEvent(new CustomEvent(lt,{detail:{draggedEl:t,type:Dt.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Ba(e,t){e.dispatchEvent(new CustomEvent(lt,{detail:{draggedEl:t,type:Dt.OUTSIDE_OF_ANY}}))}function Ha(e,t,r){e.dispatchEvent(new CustomEvent(Mt,{detail:{indexObj:t,draggedEl:r}}))}function Ya(e){window.dispatchEvent(new CustomEvent(lr,{detail:{draggedEl:e}}))}var ie={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Rt,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Mt,DRAGGED_LEFT:lt,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},ce={POINTER:"pointer",KEYBOARD:"keyboard"},Nt="isDndShadowItem",Lt="data-is-dnd-shadow-item-internal",Za="data-is-dnd-shadow-item-hint",ja="id:dnd-shadow-placeholder-0000",Va="dnd-action-dragged-el",Q="id",Jt=0;function rn(){Jt++}function nn(){if(Jt===0)throw new Error("Bug! trying to decrement when there are no dropzones");Jt--}var dr=typeof window>"u";function Qt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,n=t?Ka(e):e.getBoundingClientRect(),i=getComputedStyle(e),a=i.transform;if(a){var o,d,c,g;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),o=+r[0],d=+r[5],c=+r[12],g=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),o=+r[0],d=+r[3],c=+r[4],g=+r[5];else return n;var l=i.transformOrigin,m=n.x-c-(1-o)*parseFloat(l),s=n.y-g-(1-d)*parseFloat(l.slice(l.indexOf(" ")+1)),h=o?n.width/o:e.offsetWidth,u=d?n.height/d:e.offsetHeight;return{x:m,y:s,width:h,height:u,top:s,right:m+h,bottom:s+u,left:m}}else return n}function an(e){var t=Qt(e);return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function on(e){var t=e.getBoundingClientRect();return{top:t.top+window.scrollY,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX,right:t.right+window.scrollX}}function sn(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function $a(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function kt(e,t){return e.y<=t.bottom&&e.y>=t.top&&e.x>=t.left&&e.x<=t.right}function tt(e){return sn(on(e))}function Ar(e,t){var r=tt(e),n=an(t);return kt(r,n)}function Ir(e,t){var r=tt(e),n=tt(t);return $a(r,n)}function qa(e){var t=on(e);return t.right<0||t.left>document.documentElement.scrollWidth||t.bottom<0||t.top>document.documentElement.scrollHeight}function Ka(e){for(var t=e.getBoundingClientRect(),r={top:t.top,bottom:t.bottom,left:t.left,right:t.right},n=e.parentElement;n&&n!==document.body;){var i=n.getBoundingClientRect(),a=window.getComputedStyle(n).overflowY,o=window.getComputedStyle(n).overflowX,d=a==="scroll"||a==="auto",c=o==="scroll"||o==="auto";d&&(r.top=Math.max(r.top,i.top),r.bottom=Math.min(r.bottom,i.bottom)),c&&(r.left=Math.max(r.left,i.left),r.right=Math.min(r.right,i.right)),n=n.parentElement}return r.top=Math.max(r.top,0),r.bottom=Math.min(r.bottom,window.innerHeight),r.left=Math.max(r.left,0),r.right=Math.min(r.right,window.innerWidth),{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var He;function ur(){He=new Map}ur();function Xa(e){var t=Array.from(e.children).findIndex(function(r){return r.getAttribute(Lt)});if(t>=0)return He.has(e)||He.set(e,new Map),He.get(e).set(t,an(e.children[t])),t}function Ja(e,t){if(!Ar(e,t))return null;var r=t.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var n=Xa(t),i=0;i<r.length;i++)if(Ar(e,r[i])){var a=He.has(t)&&He.get(t).get(i);return a&&!kt(tt(e),a)?{index:n,isProximityBased:!1}:{index:i,isProximityBased:!1}}for(var o=Number.MAX_VALUE,d=void 0,c=0;c<r.length;c++){var g=Ir(e,r[c]);g<o&&(o=g,d=c)}if(r.length>0){var l=r.length,m=r[l-1],s=m.cloneNode(!1);s.style.visibility="hidden",s.style.pointerEvents="none",t.appendChild(s);var h=Ir(e,s);h<o&&(d=l),t.removeChild(s)}return{index:d,isProximityBased:!0}}function Ke(e){return JSON.stringify(e,null,2)}function bt(e){if(!e)throw new Error("cannot get depth of a falsy node");return ln(e,0)}function ln(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?ln(e.parentElement,t+1):t-1}function Qa(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!{}.hasOwnProperty.call(t,r)||t[r]!==e[r])return!1;return!0}function ei(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var ti=200,Sr=10,er;function ri(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ti,n=arguments.length>3?arguments[3]:void 0,i,a,o=!1,d,c=Array.from(t).sort(function(l,m){return bt(m)-bt(l)});function g(){var l=tt(e),m=n.multiScrollIfNeeded();if(!m&&d&&Math.abs(d.x-l.x)<Sr&&Math.abs(d.y-l.y)<Sr){er=window.setTimeout(g,r);return}if(qa(e)){Ya(e);return}d=l;var s=!1,h=st(c),u;try{for(h.s();!(u=h.n()).done;){var p=u.value;m&&ur();var f=Ja(e,p);if(f!==null){var _=f.index;s=!0,p!==i?(i&&Ga(i,e,p),Wa(p,f,e),i=p):_!==a&&(Ha(p,f,e),a=_);break}}}catch(y){h.e(y)}finally{h.f()}!s&&o&&i?(Ba(i,e),i=void 0,a=void 0,o=!1):o=!0,er=window.setTimeout(g,r)}g()}function ni(){clearTimeout(er),ur()}var Xe=30;function ai(){var e;function t(){e={directionObj:void 0,stepPx:0}}t();function r(a){var o=e,d=o.directionObj,c=o.stepPx;d&&(a.scrollBy(d.x*c,d.y*c),window.requestAnimationFrame(function(){return r(a)}))}function n(a){return Xe-a}function i(a,o){if(!o)return!1;var d=ii(a,o),c=!!e.directionObj;if(d===null)return c&&t(),!1;var g=!1,l=!1;return o.scrollHeight>o.clientHeight&&(d.bottom<Xe?(g=!0,e.directionObj={x:0,y:1},e.stepPx=n(d.bottom)):d.top<Xe&&(g=!0,e.directionObj={x:0,y:-1},e.stepPx=n(d.top)),!c&&g)||o.scrollWidth>o.clientWidth&&(d.right<Xe?(l=!0,e.directionObj={x:1,y:0},e.stepPx=n(d.right)):d.left<Xe&&(l=!0,e.directionObj={x:-1,y:0},e.stepPx=n(d.left)),!c&&l)?(r(o),!0):(t(),!1)}return{scrollIfNeeded:i,resetScrolling:t}}function ii(e,t){var r=t===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:t.getBoundingClientRect();return kt(e,r)?{top:e.y-r.top,bottom:r.bottom-e.y,left:e.x-r.left,right:r.right-e.x}:null}function oi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=li(e),n=Array.from(r).sort(function(c,g){return bt(g)-bt(c)}),i=ai(),a=i.scrollIfNeeded,o=i.resetScrolling;function d(){var c=t();if(!c||!n)return!1;for(var g=n.filter(function(s){return kt(c,s.getBoundingClientRect())||s===document.scrollingElement}),l=0;l<g.length;l++){var m=a(c,g[l]);if(m)return!0}return!1}return{multiScrollIfNeeded:r.size>0?d:function(){return!1},destroy:function(){return o()}}}function si(e){if(!e)return[];for(var t=[],r=e;r;){var n=window.getComputedStyle(r),i=n.overflow;i.split(" ").some(function(a){return a.includes("auto")||a.includes("scroll")})&&t.push(r),r=r.parentElement}return t}function li(e){var t=new Set,r=st(e),n;try{for(r.s();!(n=r.n()).done;){var i=n.value;si(i).forEach(function(a){return t.add(a)})}}catch(a){r.e(a)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&t.add(document.scrollingElement),t}function di(e){var t=e.cloneNode(!0),r=[],n=e.tagName==="SELECT",i=n?[e]:me(e.querySelectorAll("select")),a=st(i),o;try{for(a.s();!(o=a.n()).done;){var d=o.value;r.push(d.value)}}catch(T){a.e(T)}finally{a.f()}if(i.length>0)for(var c=n?[t]:me(t.querySelectorAll("select")),g=0;g<c.length;g++){var l=c[g],m=r[g],s=l.querySelector('option[value="'.concat(m,'"'));s&&s.setAttribute("selected",!0)}var h=e.tagName==="CANVAS",u=h?[e]:me(e.querySelectorAll("canvas"));if(u.length>0)for(var p=h?[t]:me(t.querySelectorAll("canvas")),f=0;f<p.length;f++){var _=u[f],y=p[f];y.width=_.width,y.height=_.height,_.width>0&&_.height>0&&y.getContext("2d").drawImage(_,0,0)}return t}var rt=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),ui=Ze({},rt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function dn(e){if(!rt[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(rt)));return ui[e]}var ci=.2;function Re(e){return"".concat(e," ").concat(ci,"s ease")}function fi(e,t){var r=e.getBoundingClientRect(),n=di(e);un(e,n),n.id=Va,n.style.position="fixed";var i=r.top,a=r.left;if(n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px"),t){var o=sn(r);i-=o.y-t.y,a-=o.x-t.x,window.setTimeout(function(){n.style.top="".concat(i,"px"),n.style.left="".concat(a,"px")},0)}return n.style.margin="0",n.style.boxSizing="border-box",n.style.height="".concat(r.height,"px"),n.style.width="".concat(r.width,"px"),n.style.transition="".concat(Re("top"),", ").concat(Re("left"),", ").concat(Re("background-color"),", ").concat(Re("opacity"),", ").concat(Re("color")," "),window.setTimeout(function(){return n.style.transition+=", ".concat(Re("width"),", ").concat(Re("height"))},0),n.style.zIndex="9999",n.style.cursor="grabbing",n}function vi(e){e.style.cursor="grab"}function gi(e,t,r,n){un(t,e);var i=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=i.width-a.width,d=i.height-a.height;if(o||d){var c={left:(r-a.left)/a.width,top:(n-a.top)/a.height};dn(rt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(i.height,"px"),e.style.width="".concat(i.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-c.left*o,"px"),e.style.top="".concat(parseFloat(e.style.top)-c.top*d,"px")}}function un(e,t){var r=window.getComputedStyle(e);Array.from(r).filter(function(n){return n.startsWith("background")||n.startsWith("padding")||n.startsWith("font")||n.startsWith("text")||n.startsWith("align")||n.startsWith("justify")||n.startsWith("display")||n.startsWith("flex")||n.startsWith("border")||n==="opacity"||n==="color"||n==="list-style-type"||dn(rt.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(n==="width"||n==="height")}).forEach(function(n){return t.style.setProperty(n,r.getPropertyValue(n),r.getPropertyPriority(n))})}function hi(e,t){e.draggable=!1,e.ondragstart=function(){return!1},t?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function cn(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function mi(e){e.style.visibility="hidden",e.setAttribute(Lt,"true")}function pi(e){e.style.visibility="",e.removeAttribute(Lt)}function mt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=i[a]}),r(n).forEach(function(a){return n.classList.add(a)})})}function Et(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(n){var i=t(n);Object.keys(i).forEach(function(a){n.style[a]=""}),r(n).forEach(function(a){return n.classList.contains(a)&&n.classList.remove(a)})})}function yi(e){var t=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var r=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=t,e.style.minWidth=r}}var _i="--any--",wi=100,Di=20,ct=3,bi=80,Cr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Rr="data-is-dnd-original-dragged-item",le,J,ue,Pt,H,Ft,Ie,te,be,re,Oe=!1,cr=!1,fr,dt=!1,pt=[],et,Ee,Qe=!1,ye=new Map,V=new Map,Zt=new WeakMap;function Ei(e,t){ye.has(t)||ye.set(t,new Set),ye.get(t).has(e)||(ye.get(t).add(e),rn())}function Mr(e,t){ye.get(t).delete(e),nn(),ye.get(t).size===0&&ye.delete(t)}function Ti(){var e=ye.get(Pt),t=st(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.addEventListener(Rt,fn),n.addEventListener(lt,vn),n.addEventListener(Mt,gn)}}catch(o){t.e(o)}finally{t.f()}window.addEventListener(lr,Ve);var i=Math.max.apply(Math,me(Array.from(e.keys()).map(function(o){return V.get(o).dropAnimationDurationMs}))),a=i===0?Di:Math.max(i,wi);et=oi(e,function(){return re}),ri(J,e,a*1.07,et)}function xi(){var e=ye.get(Pt),t=st(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.removeEventListener(Rt,fn),n.removeEventListener(lt,vn),n.removeEventListener(Mt,gn)}}catch(i){t.e(i)}finally{t.f()}window.removeEventListener(lr,Ve),et&&(et.destroy(),et=void 0),ni()}function zt(e){return e.findIndex(function(t){return!!t[Nt]})}function Oi(e){var t;return wt(wt({},e),{},(t={},Ze(t,Nt,!0),Ze(t,Q,ja),t))}function fn(e){var t=V.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==H)){if(dt=!1,r=r.filter(function(d){return d[Q]!==Ie[Q]}),H!==e.currentTarget){var i=V.get(H).items,a=i.filter(function(d){return!d[Nt]});Se(H,a,{trigger:ie.DRAGGED_ENTERED_ANOTHER,id:ue[Q],source:ce.POINTER})}var o=e.detail.indexObj.index;te=e.currentTarget,r.splice(o,0,Ie),Se(e.currentTarget,r,{trigger:ie.DRAGGED_ENTERED,id:ue[Q],source:ce.POINTER})}}function vn(e){if(Oe){var t=V.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==H&&e.currentTarget!==te)){var i=me(r),a=zt(i);a!==-1&&i.splice(a,1);var o=te;te=void 0;var d=e.detail,c=d.type,g=d.theOtherDz;if(c===Dt.OUTSIDE_OF_ANY||c===Dt.LEFT_FOR_ANOTHER&&g!==H&&V.get(g).dropFromOthersDisabled){dt=!0,te=H;var l=o===H?i:me(V.get(H).items);l.splice(Ft,0,Ie),Se(H,l,{trigger:ie.DRAGGED_LEFT_ALL,id:ue[Q],source:ce.POINTER})}Se(e.currentTarget,i,{trigger:ie.DRAGGED_LEFT,id:ue[Q],source:ce.POINTER})}}}function gn(e){var t=V.get(e.currentTarget),r=t.items,n=t.dropFromOthersDisabled;if(!(n&&e.currentTarget!==H)){var i=me(r);dt=!1;var a=e.detail.indexObj.index,o=zt(i);o!==-1&&i.splice(o,1),i.splice(a,0,Ie),Se(e.currentTarget,i,{trigger:ie.DRAGGED_OVER_INDEX,id:ue[Q],source:ce.POINTER})}}function Tt(e){e.preventDefault();var t=e.touches?e.touches[0]:e;re={x:t.clientX,y:t.clientY},J.style.transform="translate3d(".concat(re.x-be.x,"px, ").concat(re.y-be.y,"px, 0)")}function Ve(){cr=!0,window.removeEventListener("mousemove",Tt),window.removeEventListener("touchmove",Tt),window.removeEventListener("mouseup",Ve),window.removeEventListener("touchend",Ve),xi(),vi(J),te||(te=H);var e=V.get(te),t=e.items,r=e.type;Et(ye.get(r),function(a){return V.get(a).dropTargetStyle},function(a){return V.get(a).dropTargetClasses});var n=zt(t);n===-1&&te===H&&(n=Ft),t=t.map(function(a){return a[Nt]?ue:a});function i(){fr(),je(te,t,{trigger:dt?ie.DROPPED_OUTSIDE_OF_ANY:ie.DROPPED_INTO_ZONE,id:ue[Q],source:ce.POINTER}),te!==H&&je(H,V.get(H).items,{trigger:ie.DROPPED_INTO_ANOTHER,id:ue[Q],source:ce.POINTER});var a=Array.from(te.children).find(function(o){return o.getAttribute(Lt)});a&&pi(a),Si()}V.get(te).dropAnimationDisabled?i():Ai(n,i)}function Ai(e,t){var r=e>-1?Qt(te.children[e],!1):Qt(te,!1),n={x:r.left-parseFloat(J.style.left),y:r.top-parseFloat(J.style.top)},i=V.get(te),a=i.dropAnimationDurationMs,o="transform ".concat(a,"ms ease");J.style.transition=J.style.transition?J.style.transition+","+o:o,J.style.transform="translate3d(".concat(n.x,"px, ").concat(n.y,"px, 0)"),window.setTimeout(t,a)}function Ii(e,t){pt.push({dz:e,destroy:t}),window.requestAnimationFrame(function(){cn(e),document.body.appendChild(e)})}function Si(){J&&J.remove&&J.remove(),le&&le.remove&&le.remove(),J=void 0,le=void 0,ue=void 0,Pt=void 0,H=void 0,Ft=void 0,Ie=void 0,te=void 0,be=void 0,re=void 0,Oe=!1,cr=!1,fr=void 0,dt=!1,Ee&&clearTimeout(Ee),Ee=void 0,Qe=!1,pt.length&&(pt.forEach(function(e){var t=e.dz,r=e.destroy;r(),t.remove()}),pt=[])}function Ci(e,t){var r=!1,n={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Cr,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},i=new Map;function a(){window.addEventListener("mousemove",c,{passive:!1}),window.addEventListener("touchmove",c,{passive:!1,capture:!1}),window.addEventListener("mouseup",d,{passive:!1}),window.addEventListener("touchend",d,{passive:!1})}function o(){window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c),window.removeEventListener("mouseup",d),window.removeEventListener("touchend",d),Ee&&(clearTimeout(Ee),Ee=void 0,Qe=!1)}function d(s){if(o(),le=void 0,be=void 0,re=void 0,s.type==="touchend"){var h=new Event("click",{bubbles:!0,cancelable:!0});s.target.dispatchEvent(h)}}function c(s){var h=!!s.touches,u=h?s.touches[0]:s;if(h&&n.delayTouchStartMs>0&&!Qe){re={x:u.clientX,y:u.clientY},(Math.abs(re.x-be.x)>=ct||Math.abs(re.y-be.y)>=ct)&&(Ee&&(clearTimeout(Ee),Ee=void 0),d(s));return}s.preventDefault(),re={x:u.clientX,y:u.clientY},(Math.abs(re.x-be.x)>=ct||Math.abs(re.y-be.y)>=ct)&&(o(),l())}function g(s){if(!(s.target!==s.currentTarget&&(s.target.value!==void 0||s.target.isContentEditable))&&!s.button&&!Oe){var h=!!s.touches,u=h&&n.delayTouchStartMs>0;u||s.preventDefault(),s.stopPropagation();var p=h?s.touches[0]:s;be={x:p.clientX,y:p.clientY},re=wt({},be),le=s.currentTarget,u&&(Qe=!1,Ee=window.setTimeout(function(){le&&(Qe=!0,o(),l())},n.delayTouchStartMs)),a()}}function l(){Oe=!0;var s=i.get(le);Ft=s,H=le.parentElement;var h=H.closest("dialog")||H.closest("[popover]")||H.getRootNode(),u=h.body||h,p=n.items,f=n.type,_=n.centreDraggedOnCursor,y=me(p);ue=y[s],Pt=f,Ie=Oi(ue),J=fi(le,_&&re),u.appendChild(J);function T(){le.parentElement?window.requestAnimationFrame(T):(le.setAttribute(Rr,!0),u.appendChild(le),Ti(),cn(le),Ie[Q]=ue[Q],J.focus())}window.requestAnimationFrame(T),mt(Array.from(ye.get(n.type)).filter(function(S){return S===H||!V.get(S).dropFromOthersDisabled}),function(S){return V.get(S).dropTargetStyle},function(S){return V.get(S).dropTargetClasses}),y.splice(s,1,Ie),fr=yi(H),Se(H,y,{trigger:ie.DRAG_STARTED,id:ue[Q],source:ce.POINTER}),window.addEventListener("mousemove",Tt,{passive:!1}),window.addEventListener("touchmove",Tt,{passive:!1,capture:!1}),window.addEventListener("mouseup",Ve,{passive:!1}),window.addEventListener("touchend",Ve,{passive:!1})}function m(s){var h=s.items,u=h===void 0?void 0:h,p=s.flipDurationMs,f=p===void 0?0:p,_=s.type,y=_===void 0?_i:_,T=s.dragDisabled,S=T===void 0?!1:T,x=s.morphDisabled,w=x===void 0?!1:x,D=s.dropFromOthersDisabled,A=D===void 0?!1:D,F=s.dropTargetStyle,E=F===void 0?Cr:F,C=s.dropTargetClasses,N=C===void 0?[]:C,Y=s.transformDraggedElement,q=Y===void 0?function(){}:Y,G=s.centreDraggedOnCursor,Z=G===void 0?!1:G,L=s.dropAnimationDisabled,k=L===void 0?!1:L,U=s.delayTouchStart,W=U===void 0?!1:U;n.dropAnimationDurationMs=f;var P=0;W===!0?P=bi:typeof W=="number"&&isFinite(W)&&W>=0&&(P=W),n.delayTouchStartMs=P,n.type&&y!==n.type&&Mr(e,n.type),n.type=y,n.items=me(u),n.dragDisabled=S,n.morphDisabled=w,n.transformDraggedElement=q,n.centreDraggedOnCursor=Z,n.dropAnimationDisabled=k,r&&Oe&&!cr&&(!Qa(E,n.dropTargetStyle)||!ei(N,n.dropTargetClasses))&&(Et([e],function(){return n.dropTargetStyle},function(){return N}),mt([e],function(){return E},function(){return N})),n.dropTargetStyle=E,n.dropTargetClasses=me(N);function B(X,$e){return V.get(X)?V.get(X)[$e]:n[$e]}r&&Oe&&n.dropFromOthersDisabled!==A&&(A?Et([e],function(X){return B(X,"dropTargetStyle")},function(X){return B(X,"dropTargetClasses")}):mt([e],function(X){return B(X,"dropTargetStyle")},function(X){return B(X,"dropTargetClasses")})),n.dropFromOthersDisabled=A,V.set(e,n),Ei(e,y);for(var O=Oe?zt(n.items):-1,b=0;b<e.children.length;b++){var M=e.children[b];if(hi(M,S),b===O){w||gi(J,M,re.x,re.y),n.transformDraggedElement(J,ue,b),mi(M);continue}M.removeEventListener("mousedown",Zt.get(M)),M.removeEventListener("touchstart",Zt.get(M)),S||(M.addEventListener("mousedown",g),M.addEventListener("touchstart",g),Zt.set(M,g)),i.set(M,b),r||(r=!0)}}return m(t),{update:function(h){m(h)},destroy:function(){function h(){Mr(e,V.get(e).type),V.delete(e)}Oe&&!e.closest("[".concat(Rr,"]"))?Ii(e,h):h()}}}var ft,tr={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},hn=(ft={},Ze(ft,tr.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Ze(ft,tr.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),ft),Ri="dnd-action-aria-alert",$;function rr(){$||($=document.createElement("div"),function(){$.id=Ri,$.style.position="fixed",$.style.bottom="0",$.style.left="0",$.style.zIndex="-5",$.style.opacity="0",$.style.height="0",$.style.width="0",$.setAttribute("role","alert")}(),document.body.prepend($),Object.entries(hn).forEach(function(e){var t=Ra(e,2),r=t[0],n=t[1];return document.body.prepend(Li(r,n))}))}function Mi(){return dr?null:(document.readyState==="complete"?rr():window.addEventListener("DOMContentLoaded",rr),wt({},tr))}function Ni(){dr||!$||(Object.keys(hn).forEach(function(e){var t;return(t=document.getElementById(e))===null||t===void 0?void 0:t.remove()}),$.remove(),$=void 0)}function Li(e,t){var r=document.createElement("div");return r.id=e,r.innerHTML="<p>".concat(t,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Ye(e){if(!dr){$||rr(),$.innerHTML="";var t=document.createTextNode(e);$.appendChild(t),$.style.display="none",$.style.display="inline"}}var ki="--any--",Nr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},he=!1,nr,ne,Fe="",Me,Te,Ae="",xt=new WeakSet,Lr=new WeakMap,kr=new WeakMap,ar=new Map,ee=new Map,pe=new Map,Ot;function Pi(e,t){pe.size===0&&(Ot=Mi(),window.addEventListener("keydown",mn),window.addEventListener("click",pn)),pe.has(t)||pe.set(t,new Set),pe.get(t).has(e)||(pe.get(t).add(e),rn())}function Pr(e,t){ne===e&&nt(),pe.get(t).delete(e),nn(),pe.get(t).size===0&&pe.delete(t),pe.size===0&&(window.removeEventListener("keydown",mn),window.removeEventListener("click",pn),Ot=void 0,Ni())}function mn(e){if(he)switch(e.key){case"Escape":{nt();break}}}function pn(){he&&(xt.has(document.activeElement)||nt())}function Fi(e){if(he){var t=e.currentTarget;if(t!==ne){Fe=t.getAttribute("aria-label")||"";var r=ee.get(ne),n=r.items,i=n.find(function(m){return m[Q]===Te}),a=n.indexOf(i),o=n.splice(a,1)[0],d=ee.get(t),c=d.items,g=d.autoAriaDisabled;t.getBoundingClientRect().top<ne.getBoundingClientRect().top||t.getBoundingClientRect().left<ne.getBoundingClientRect().left?(c.push(o),g||Ye("Moved item ".concat(Ae," to the end of the list ").concat(Fe))):(c.unshift(o),g||Ye("Moved item ".concat(Ae," to the beginning of the list ").concat(Fe)));var l=ne;je(l,n,{trigger:ie.DROPPED_INTO_ANOTHER,id:Te,source:ce.KEYBOARD}),je(t,c,{trigger:ie.DROPPED_INTO_ZONE,id:Te,source:ce.KEYBOARD}),ne=t}}}function yn(){ar.forEach(function(e,t){var r=e.update;return r(ee.get(t))})}function nt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ee.get(ne).autoAriaDisabled||Ye("Stopped dragging item ".concat(Ae)),xt.has(document.activeElement)&&document.activeElement.blur(),e&&Se(ne,ee.get(ne).items,{trigger:ie.DRAG_STOPPED,id:Te,source:ce.KEYBOARD}),Et(pe.get(nr),function(t){return ee.get(t).dropTargetStyle},function(t){return ee.get(t).dropTargetClasses}),Me=null,Te=null,Ae="",nr=null,ne=null,Fe="",he=!1,yn()}function zi(e,t){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Nr,dropTargetClasses:[],autoAriaDisabled:!1};function n(l,m,s){l.length<=1||l.splice(s,1,l.splice(m,1,l[s])[0])}function i(l){switch(l.key){case"Enter":case" ":{if((l.target.disabled!==void 0||l.target.href||l.target.isContentEditable)&&!xt.has(l.target))return;l.preventDefault(),l.stopPropagation(),he?nt():a(l);break}case"ArrowDown":case"ArrowRight":{if(!he)return;l.preventDefault(),l.stopPropagation();var m=ee.get(e),s=m.items,h=Array.from(e.children),u=h.indexOf(l.currentTarget);u<h.length-1&&(r.autoAriaDisabled||Ye("Moved item ".concat(Ae," to position ").concat(u+2," in the list ").concat(Fe)),n(s,u,u+1),je(e,s,{trigger:ie.DROPPED_INTO_ZONE,id:Te,source:ce.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!he)return;l.preventDefault(),l.stopPropagation();var p=ee.get(e),f=p.items,_=Array.from(e.children),y=_.indexOf(l.currentTarget);y>0&&(r.autoAriaDisabled||Ye("Moved item ".concat(Ae," to position ").concat(y," in the list ").concat(Fe)),n(f,y,y-1),je(e,f,{trigger:ie.DROPPED_INTO_ZONE,id:Te,source:ce.KEYBOARD}));break}}}function a(l){d(l.currentTarget),ne=e,nr=r.type,he=!0;var m=Array.from(pe.get(r.type)).filter(function(h){return h===ne||!ee.get(h).dropFromOthersDisabled});if(mt(m,function(h){return ee.get(h).dropTargetStyle},function(h){return ee.get(h).dropTargetClasses}),!r.autoAriaDisabled){var s="Started dragging item ".concat(Ae,". Use the arrow keys to move it within its list ").concat(Fe);m.length>1&&(s+=", or tab to another list in order to move the item into it"),Ye(s)}Se(e,ee.get(e).items,{trigger:ie.DRAG_STARTED,id:Te,source:ce.KEYBOARD}),yn()}function o(l){he&&l.currentTarget!==Me&&(l.stopPropagation(),nt(!1),a(l))}function d(l){var m=ee.get(e),s=m.items,h=Array.from(e.children),u=h.indexOf(l);Me=l,Me.tabIndex=r.zoneItemTabIndex,Te=s[u][Q],Ae=h[u].getAttribute("aria-label")||""}function c(l){var m=l.items,s=m===void 0?[]:m,h=l.type,u=h===void 0?ki:h,p=l.dragDisabled,f=p===void 0?!1:p,_=l.zoneTabIndex,y=_===void 0?0:_,T=l.zoneItemTabIndex,S=T===void 0?0:T,x=l.dropFromOthersDisabled,w=x===void 0?!1:x,D=l.dropTargetStyle,A=D===void 0?Nr:D,F=l.dropTargetClasses,E=F===void 0?[]:F,C=l.autoAriaDisabled,N=C===void 0?!1:C;r.items=me(s),r.dragDisabled=f,r.dropFromOthersDisabled=w,r.zoneTabIndex=y,r.zoneItemTabIndex=S,r.dropTargetStyle=A,r.dropTargetClasses=E,r.autoAriaDisabled=N,r.type&&u!==r.type&&Pr(e,r.type),r.type=u,Pi(e,u),N||(e.setAttribute("aria-disabled",f),e.setAttribute("role","list"),e.setAttribute("aria-describedby",f?Ot.DND_ZONE_DRAG_DISABLED:Ot.DND_ZONE_ACTIVE)),ee.set(e,r),he?e.tabIndex=e===ne||Me.contains(e)||r.dropFromOthersDisabled||ne&&r.type!==ee.get(ne).type?-1:0:e.tabIndex=r.zoneTabIndex,e.addEventListener("focus",Fi);for(var Y=function(Z){var L=e.children[Z];xt.add(L),L.tabIndex=he?-1:r.zoneItemTabIndex,N||L.setAttribute("role","listitem"),L.removeEventListener("keydown",Lr.get(L)),L.removeEventListener("click",kr.get(L)),f||(L.addEventListener("keydown",i),Lr.set(L,i),L.addEventListener("click",o),kr.set(L,o)),he&&r.items[Z][Q]===Te&&(Me=L,Me.tabIndex=r.zoneItemTabIndex,L.focus())},q=0;q<e.children.length;q++)Y(q)}c(t);var g={update:function(m){c(m)},destroy:function(){Pr(e,r.type),ee.delete(e),ar.delete(e)}};return ar.set(e,g),g}var Ui=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function jt(e,t){if(Wi(e))return{update:function(){},destroy:function(){}};Fr(t);var r=Ci(e,t),n=zi(e,t);return{update:function(a){Fr(a),r.update(a),n.update(a)},destroy:function(){r.destroy(),n.destroy()}}}function Wi(e){return!!e.closest("[".concat(Za,'="true"]'))}function Fr(e){var t=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var r=e.zoneTabIndex,n=e.zoneItemTabIndex;e.dropTargetStyle;var i=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var a=e.delayTouchStart;e.dropAnimationDisabled;var o=Ca(e,Ui);if(Object.keys(o).length>0&&console.warn("dndzone will ignore unknown options",o),!t)throw new Error("no 'items' key provided to dndzone");var d=t.find(function(l){return!{}.hasOwnProperty.call(l,Q)});if(d)throw new Error("missing '".concat(Q,"' property for item ").concat(Ke(d)));if(i&&!Array.isArray(i))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Be(i),", ").concat(Ke(i)));if(r&&!zr(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Be(r),", ").concat(Ke(r)));if(n&&!zr(n))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Be(n),", ").concat(Ke(n)));if(a!==void 0&&a!==!1){var c=a===!0,g=typeof a=="number"&&isFinite(a)&&a>=0;if(!c&&!g)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Be(a),", ").concat(Ke(a)))}}function zr(e){return!isNaN(e)&&function(t){return(t|0)===t}(parseFloat(e))}function Gi(e){const t=e-1;return t*t*t+1}function Bi(e,{from:t,to:r},n={}){var{delay:i=0,duration:a=w=>Math.sqrt(w)*120,easing:o=Gi}=n,d=getComputedStyle(e),c=d.transform==="none"?"":d.transform,[g,l]=d.transformOrigin.split(" ").map(parseFloat);g/=e.clientWidth,l/=e.clientHeight;var m=Hi(e),s=e.clientWidth/r.width/m,h=e.clientHeight/r.height/m,u=t.left+t.width*g,p=t.top+t.height*l,f=r.left+r.width*g,_=r.top+r.height*l,y=(u-f)*s,T=(p-_)*h,S=t.width/r.width,x=t.height/r.height;return{delay:i,duration:typeof a=="function"?a(Math.sqrt(y*y+T*T)):a,easing:o,css:(w,D)=>{var A=D*y,F=D*T,E=w+D*S,C=w+D*x;return`transform: ${c} translate(${A}px, ${F}px) scale(${E}, ${C});`}}}function Hi(e){if("currentCSSZoom"in e)return e.currentCSSZoom;for(var t=e,r=1;t!==null;)r*=+getComputedStyle(t).zoom,t=t.parentElement;return r}const Yi=(e,t)=>{e.target===e.currentTarget&&t()};var Zi=(e,t,r)=>t(v(r)),ji=Kr('<path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path><path d="M7 2v20"></path><path d="M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path>',1),Vi=Kr('<path d="M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"></path><path d="M6 17h12"></path>',1),$i=fe('<button class="w-full flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors border border-gray-100 text-left"><div class="w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><!></svg></div> <div class="flex-1 text-left"><div class="font-medium text-gray-900"> </div> <div class="text-sm text-gray-500"> </div></div></button>'),qi=fe('<div class="text-center text-gray-500 py-8"> </div>'),Ki=fe('<div class="fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4" role="presentation"><div role="dialog" aria-labelledby="meal-modal-title" aria-describedby="meal-modal-description" class="fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg sm:max-w-md" tabindex="-1" style="pointer-events: auto;"><div class="flex flex-col space-y-1.5 text-center sm:text-left"><div class="flex items-center justify-between"><h2 id="meal-modal-title" class="text-lg font-semibold leading-none tracking-tight">Add a Meal</h2> <button type="button" class="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none" aria-label="Close"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x h-4 w-4"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg> <span class="sr-only">Close</span></button></div></div> <div class="space-y-3"><input type="text" class="flex h-9 rounded-md border border-gray-300 bg-white px-3 py-1 text-base shadow-xs transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-blue-500 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm w-full" placeholder="Search recipes..."/></div> <div class="space-y-2 h-[400px] overflow-y-auto mt-4"><!> <!></div></div></div>');function Xi(e,t){St(t,!0);let r=ke(t,"isOpen",15);const n=()=>Math.random().toString(36).substr(2,9),i=[{name:"Spaghetti Bolognese",time:"45 min",icon:"utensils",color:"green"},{name:"Chicken Stir-Fry",time:"30 min",icon:"utensils",color:"green"},{name:"Fish and Chips",time:"40 min",icon:"utensils",color:"teal"},{name:"Vegetable Curry",time:"35 min",icon:"utensils",color:"yellow"},{name:"Roast Chicken",time:"90 min",icon:"chef-hat",color:"green"},{name:"Beef Tacos",time:"25 min",icon:"utensils",color:"teal"},{name:"Salmon Teriyaki",time:"20 min",icon:"utensils",color:"green"},{name:"Mushroom Risotto",time:"35 min",icon:"chef-hat",color:"yellow"}];let a=_e("");const o=Le(()=>i.filter(s=>s.name.toLowerCase().includes(v(a).toLowerCase()))),d=s=>{const h={...s,id:n()};t.onSelectMeal(h),r(!1)},c=()=>{r(!1)};var g=ve(),l=ge(g);{var m=s=>{var h=Ki();h.__click=[Yi,c];var u=R(h),p=R(u),f=R(p),_=j(R(f),2);_.__click=c,I(f),I(p);var y=j(p,2),T=R(y);fa(T),I(y);var S=j(y,2),x=R(S);_t(x,17,()=>v(o),Jr,(A,F)=>{var E=$i();E.__click=[Zi,d,F];var C=R(E),N=R(C),Y=R(N);{var q=P=>{var B=ji();yt(2),z(P,B)},G=P=>{var B=ve(),O=ge(B);{var b=M=>{var X=Vi();yt(),z(M,X)};se(O,M=>{v(F).icon==="chef-hat"&&M(b)},!0)}z(P,B)};se(Y,P=>{v(F).icon==="utensils"?P(q):P(G,!1)})}I(N),I(C);var Z=j(C,2),L=R(Z),k=R(L,!0);I(L);var U=j(L,2),W=R(U,!0);I(U),I(Z),I(E),Pe(()=>{ht(N,0,`lucide lucide-${v(F).icon??""} w-5 h-5 text-gray-600`),De(k,v(F).name),De(W,v(F).time)}),z(A,E)});var w=j(x,2);{var D=A=>{var F=qi(),E=R(F);I(F),Pe(()=>De(E,`No meals found matching "${v(a)??""}"`)),z(A,F)};se(w,A=>{v(o).length===0&&A(D)})}I(S),I(u),I(h),wa(T,()=>v(a),A=>ae(a,A)),z(s,h)};se(l,s=>{r()&&s(m)})}z(e,g),Ct()}or(["click"]);var Ji=fe('<div role="button" tabindex="0" aria-disabled="false" aria-roledescription="draggable"><div class="flex items-start justify-between"><div class="flex-1 min-w-0"><div class="flex items-center gap-2 mb-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><!></svg> <h3 class="font-semibold text-sm text-gray-900 truncate"> </h3></div> <div class="flex items-center gap-2"><p class="text-xs text-gray-500"> </p></div></div> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-zap w-4 h-4 text-gray-400 flex-shrink-0 ml-2"><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"></path></svg></div></div>'),Qi=(e,t,r)=>t(v(r).date),eo=fe('<div class="flex border-b border-gray-200 min-h-[80px] transition-colors"><div class="sticky left-0 z-10 bg-white flex flex-col justify-center items-center w-20 min-w-[80px] border-r border-gray-100 py-3"><div class="text-xs text-gray-400 font-medium mb-1"> </div> <div> </div></div> <div class="flex-1 min-w-0"><div class="flex gap-3 px-3 py-2 overflow-x-auto" style="scroll-snap-type: x mandatory;"><div class="flex gap-3 min-h-[88px] w-full"><!> <button class="flex-shrink-0 w-36 h-[88px] rounded-xl border flex items-center gap-1 text-gray-500 hover:bg-white hover:border-white hover:text-gray-700 transition-colors scroll-snap-align-start" style="background-color: rgb(249, 250, 251); border-color: rgb(249, 250, 251); justify-content: flex-start; padding-left: 0.75rem;"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus w-4 h-4 flex-shrink-0"><path d="M5 12h14"></path><path d="M12 5v14"></path></svg> <span class="font-medium text-sm whitespace-nowrap">Add</span></button></div></div></div></div>'),to=fe('<section class="bg-white border-b border-gray-200"><div class="bg-white border-b border-gray-200 px-4 py-3 sticky top-0 z-20"><div class="flex items-center justify-between"><div class="flex items-center gap-3"><h2 class="text-lg font-semibold text-gray-900"> </h2> <span class="bg-black text-white text-xs font-semibold px-3 py-1 rounded-full"> </span></div> <button class="flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rotate-ccw w-4 h-4"><path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path><path d="M3 3v5h5"></path></svg> Reset</button></div> <p class="text-sm text-gray-500 mt-1"> </p></div> <div></div> <!></section>');function ro(e,t){St(t,!0);const r=ke(t,"week",7),n=E=>new Date(E).toLocaleDateString("en-US",{day:"numeric",month:"short"}),i=E=>new Date(E).getFullYear(),a=E=>new Date(E).toLocaleDateString("en-US",{weekday:"short"}),o=E=>{switch(E){case"green":return"border-l-green-500";case"teal":return"border-l-teal-500";case"yellow":return"border-l-yellow-500";default:return"border-l-green-500"}},d=E=>{switch(E){case"utensils":return'<path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path><path d="M7 2v20"></path><path d="M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path>';case"chef-hat":return'<path d="M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z"></path><path d="M6 17h12"></path>';default:return'<path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"></path><path d="M7 2v20"></path><path d="M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"></path>'}};let c=_e(!1),g=_e("");const l=E=>{ae(g,E,!0),ae(c,!0)},m=E=>{t.onAddActivity(v(g),E)},s=(E,C)=>{const N=r().days.findIndex(Y=>Y.date===C);N!==-1&&r().days[N].meals&&(r().days[N].meals=E.detail.items,r().days=[...r().days])},h=(E,C)=>{const N=r().days.findIndex(Y=>Y.date===C);N!==-1&&(r().days[N].meals=E.detail.items,r().days[N].activities=E.detail.items.length,r().totalActivities=r().days.reduce((Y,q)=>{var G;return Y+(((G=q.meals)==null?void 0:G.length)||0)},0),r().days=[...r().days])};var u=to(),p=R(u),f=R(p),_=R(f),y=R(_),T=R(y);I(y);var S=j(y,2),x=R(S);I(S),I(_),yt(2),I(f);var w=j(f,2),D=R(w);I(w),I(p);var A=j(p,2);_t(A,21,()=>r().days,Jr,(E,C,N)=>{var Y=eo(),q=R(Y),G=R(q),Z=R(G,!0);I(G);var L=j(G,2);ht(L,1,`flex items-center justify-center w-10 h-10 rounded-full font-semibold text-lg ${N===0?"bg-black text-white":"text-gray-900"}`);var k=R(L,!0);I(L),I(q);var U=j(q,2),W=R(U),P=R(W),B=R(P);_t(B,25,()=>v(C).meals||[],b=>b.id,(b,M)=>{var X=Ji(),$e=R(X),vr=R($e),Ut=R(vr),ut=R(Ut),Dn=R(ut);sa(Dn,()=>d(v(M).icon),!0),I(ut);var gr=j(ut,2),bn=R(gr,!0);I(gr),I(Ut);var hr=j(Ut,2),mr=R(hr),En=R(mr,!0);I(mr),I(hr),I(vr),yt(2),I($e),I(X),Pe(Tn=>{ht(X,1,`flex-shrink-0 w-52 p-4 bg-white rounded-xl shadow-sm border border-gray-100 ${Tn??""} border-l-4 cursor-move transition-all hover:shadow-md active:scale-[0.98] scroll-snap-align-start`,"svelte-1668vul"),ht(ut,0,`lucide lucide-${v(M).icon??""} w-4 h-4 text-gray-500 flex-shrink-0`,"svelte-1668vul"),De(bn,v(M).name),De(En,v(M).time)},[()=>o(v(M).color)]),_a(X,()=>Bi,()=>({duration:200})),z(b,X)});var O=j(B,2);O.__click=[Qi,l,C],I(P),la(P,(b,M)=>jt==null?void 0:jt(b,M),()=>({items:v(C).meals||[],flipDurationMs:200,type:"meal",dropTargetClasses:["drag-over"],dropTargetStyle:{outline:"2px solid #3b82f6"},centreDraggedOnCursor:!0})),I(W),I(U),I(Y),Pe((b,M)=>{De(Z,b),De(k,M),Kt(P,"data-date",v(C).date)},[()=>a(v(C).date),()=>new Date(v(C).date).getDate()]),Er("consider",P,b=>s(b,v(C).date)),Er("finalize",P,b=>h(b,v(C).date)),z(E,Y)}),I(A);var F=j(A,2);Xi(F,{onSelectMeal:m,get isOpen(){return v(c)},set isOpen(E){ae(c,E,!0)}}),I(u),Pe((E,C,N)=>{De(T,`${E??""} - ${C??""} ${N??""}`),De(x,`WEEK ${r().weekNumber??""}`),De(D,`Total: ${r().totalActivities??""} activity${r().totalActivities!==1?"ies":"y"}`)},[()=>n(r().startDate),()=>n(r().endDate),()=>i(r().startDate)]),z(e,u),Ct()}or(["click"]);function no(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),r=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-r);const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t.getTime()-n.getTime())/864e5+1)/7)}function _n(e){const t=new Date(e),r=t.getDay(),n=t.getDate()-r+(r===0?-6:1);return new Date(t.setDate(n))}function ao(e,t){const r=[],n=new Date(e);n.setDate(e.getDate()+6);let i=0;for(let a=0;a<7;a++){const o=new Date(e);o.setDate(e.getDate()+a),r.push({date:o.toISOString().split("T")[0],dayName:o.toLocaleDateString("en-US",{weekday:"long"}),activities:0,meals:[]})}return{startDate:e.toISOString().split("T")[0],endDate:n.toISOString().split("T")[0],weekNumber:t,totalActivities:i,days:r}}function wn(e,t){const r=[];let n=new Date(e);for(let i=0;i<t;i++){const a=_n(n),o=no(a);r.push(ao(a,o)),n.setDate(n.getDate()+7)}return r}function io(e){const r=_n(new Date);return wn(r,e)}var oo=fe('<div class="flex justify-center py-6 text-gray-400 text-sm">Loading more weeks...</div>'),so=fe('<div class="flex flex-col h-screen bg-gray-50"><div class="flex-1 overflow-y-auto"><!></div></div>');function go(e,t){St(t,!0);const r=new Da;let n=_e(qr([])),i=_e(1),a=_e(void 0);ae(n,io(4),!0);const o=(s,h)=>{const u=v(n).findIndex(p=>p.days.some(f=>f.date===s));if(u!==-1){const p=v(n)[u].days.findIndex(f=>f.date===s);p!==-1&&(v(n)[u].days[p].meals||(v(n)[u].days[p].meals=[]),v(n)[u].days[p].meals.push(h),v(n)[u].days[p].activities+=1,v(n)[u].totalActivities+=1,v(n)[u]={...v(n)[u]},v(n)[u].days=[...v(n)[u].days],ae(n,[...v(n)],!0))}},d=(s,h,u)=>{const p=v(n).findIndex(_=>_.days.some(y=>y.date===s)),f=v(n).findIndex(_=>_.days.some(y=>y.date===h));if(p!==-1&&f!==-1){const _=v(n)[p].days.findIndex(T=>T.date===s),y=v(n)[f].days.findIndex(T=>T.date===h);if(_!==-1&&y!==-1){const T=v(n)[p].days[_].meals||[],S=T.find(x=>x.id===u);S&&(v(n)[p].days[_].meals=T.filter(x=>x.id!==u),v(n)[p].days[_].activities=v(n)[p].days[_].meals.length,v(n)[p].totalActivities=v(n)[p].days.reduce((x,w)=>{var D;return x+(((D=w.meals)==null?void 0:D.length)||0)},0),v(n)[f].days[y].meals||(v(n)[f].days[y].meals=[]),v(n)[f].days[y].meals.push(S),v(n)[f].days[y].activities=v(n)[f].days[y].meals.length,v(n)[f].totalActivities=v(n)[f].days.reduce((x,w)=>{var D;return x+(((D=w.meals)==null?void 0:D.length)||0)},0),v(n)[p]={...v(n)[p]},v(n)[p].days=[...v(n)[p].days],v(n)[f]={...v(n)[f]},v(n)[f].days=[...v(n)[f].days],ae(n,[...v(n)],!0))}}},c=async()=>{try{ae(i,v(i)+1);const s=v(n)[v(n).length-1],h=new Date(s.endDate);h.setDate(h.getDate()+1);const u=wn(h,2);u.length>0?(v(n).push(...u),r.loaded()):v(i)>10?r.complete():r.loaded()}catch(s){console.error(s),r.error(),ae(i,v(i)-1)}};var g=so(),l=R(g),m=R(l);{const s=u=>{var p=oo();z(u,p)};let h=Le(()=>({root:v(a),rootMargin:"0px 0px 500px 0px"}));Ia(m,{get loaderState(){return r},triggerLoad:c,loopDetectionTimeout:7500,get intersectionOptions(){return v(h)},loading:s,children:(u,p)=>{var f=ve(),_=ge(f);_t(_,17,()=>v(n),y=>y.startDate,(y,T)=>{ro(y,{get week(){return v(T)},onAddActivity:o,onMoveMeal:d})}),z(u,f)},$$slots:{loading:!0,default:!0}})}I(l),Xr(l,s=>ae(a,s),()=>v(a)),I(g),z(e,g),Ct()}export{go as component};
